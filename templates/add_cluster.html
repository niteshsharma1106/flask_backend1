<!-- login.html -->

{% extends 'base.html' %}
{% block title %}
    <title>Cluster Table</title>
{% endblock %}

{% block content %}

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <div class="alert alert-danger">
      <ul>
          <li>{{ messages }}</li>
      </ul>
    </div>
  {% endif %}
{% endwith %}

    
    <form method="POST" action="/add_cluster">
        <div class="container-md">
            <h3>Cluster Table</h2>
                  <div class="mb-3"> 
                    <label for="data_center_location" class="form-label">Cluster Environment</label>
                    <select class="form-select" id="data_center_location" aria-label="Floating label select example" name="data_center_location">
                      <option selected>Select DataCenter Location</option>
                      <option value="N1">Test</option>
                      <option value="N2">Production</option>
                      <option value="Banglore">Banglore</option>
                    </select>
                  </div>

                  <div class="mb-3"> 
                    <label for="cluster_type" class="form-label">Cluster Type</label>
                    <select class="form-select" id="cluster_type" aria-label="Floating label select example" name="cluster_type">
                      <option selected>Select Cluster Build Type</option>
                      <option value="Physical">Physical</option>
                      <option value="Pirtual">Virtual</option>
                    </select>
                  </div>

                  <div class="mb-3"> 
                    <label for="cluster_env" class="form-label">Cluster Environment</label>
                    <select class="form-select" id="cluster_env" aria-label="Floating label select example" name="cluster_env">
                      <option selected>Select Cluster Environment</option>
                      <option value="Test">Test</option>
                      <option value="Production">Production</option>
                      <option value="Staging">Staging</option>
                    </select>
                  </div>

                  <div class="mb-3"> 
                    <label for="cluster_api_address" class="form-label">Cluster API</label>
                    <input type="text" name="cluster_api_address" class="form-control" id="cluster_api_address" aria-describedby="DC-Type" placeholder="https://api.your-cluster.airtel.itm" required>
                    <!-- <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div> -->
                  </div>
            <button type="submit" class="btn btn-outline-primary">Add Cluster</button>
        </div>
    </form>
        </div><br>


    <table border="1" class="table table-bordered border-primary">
        <tr>
            <th>Cluster API Address</th>
            <th>Data Center Location</th>
            <th>Cluster Environment</th>
            <th>Cluster Type</th>
            <th>Added Date</th>
            <th>Remove</th>
        </tr>
        {% for cluster in clusters %}
        <tr>
            <td>{{ cluster.clusterapi }}</td>
            <td>{{ cluster.dcloc }}</td>
            <td>{{ cluster.ctype }}</td>
            <td>{{ cluster.cenvironment }}</td>
            <td>{{ cluster.created_at }}</td>
            <td><a href="/remove_cluster/{{ cluster.id }}">Remove</a></td>
        </tr>
        {% endfor %}
    </table>
{% endblock%}